title: Stromverbrauch
path: stromverbrauch
icon: mdi:counter
panel: true
cards:
  - type: custom:layout-card
    min_columns: 1
    max_columns: 3
    cards:
      - type: entities
        title: Leistung
        show_header_toggle: false
        entities:
          - type: section
            label: Netz und PV
          - entity: sensor.el_leistung_verbrauch_gesamt
            name: Verbrauch aktuell
          - entity: sensor.el_leistung_netz
            name: Leistung Netz
          - entity: sensor.el_leistung_pv_ac
            name: Leistung PV
          - type: section
            label: EG
          - type: custom:template-entity-row
            name: Backofen
            entity: sensor.el_leistung_backofen
            state: "{{ '%.1f'%(states('sensor.el_leistung_backofen')) | float }} W"
          - entity: sensor.el_leistung_bildschirm_theke
            name: Bildschirm Theke
          - entity: sensor.el_leistung_kochfeld
            name: Kochfeld
          - type: custom:template-entity-row
            name: Kühlschrank Küche
            entity: sensor.el_leistung_kuhlschrank_kuche
            state: "{{ '%.1f'%(states('sensor.el_leistung_kuhlschrank_kuche')) | float }} W"
          - entity: sensor.el_leistung_lg_anlage
            name: LG Anlage
          - type: custom:template-entity-row
            name: Mixi
            entity: sensor.el_leistung_mixi
            state: "{{ '%.1f'%(states('sensor.el_leistung_mixi')) | float }} W"
          - type: custom:template-entity-row
            name: Spülmaschine
            entity: sensor.el_leistung_spulmaschine
            state: "{{ '%.1f'%(states('sensor.el_leistung_spulmaschine')) | float }} W"
          - entity: sensor.el_leistung_tv
            name: TV
          - type: section
            label: Keller
          - entity: sensor.el_leistung_innr_sp_120_luftentfeuchter_waschkuche
            name: Luftentf. Waschküche
          - entity: sensor.el_leistung_innr_sp_120_luftentfeuchter_partyraum
            name: Luftentf. Partyraum
          - entity: sensor.el_leistung_tuya_sd_2
            name: Heizung Partyraum vorne
          - entity: sensor.el_leistung_tuya_sd_1
            name: Heizung Partyraum hinten
          - type: custom:template-entity-row
            name: Lüftungsanlage
            entity: sensor.el_leistung_luftungsanlage
            state: "{{ '%.1f'%(states('sensor.el_leistung_luftungsanlage')) | float }} W"
          - entity: sensor.el_leistung_waschmaschine
            name: Waschmaschine
          - entity: sensor.el_leistung_trockner
            name: Trockner
          - type: custom:template-entity-row
            name: Gefrierschrank
            entity: sensor.el_leistung_gefrierschrank
            state: "{{ '%.1f'%(states('sensor.el_leistung_gefrierschrank')) | float }} W"
          - type: custom:template-entity-row
            name: Kühlschrank Keller
            entity: sensor.el_leistung_kuhlschrank_keller
            state: "{{ '%.1f'%(states('sensor.el_leistung_kuhlschrank_keller')) | float }} W"
          - type: section
            label: Heizung
          - entity: sensor.el_leistung_wp_gesamt
            name: WP gesamt
          - entity: sensor.el_leistung_wp_heizstab
            name: WP Heizstab
          - entity: sensor.el_leistung_wp_innenteil
            name: WP Innenteil
          - entity: sensor.el_leistung_wp_aussenteil
            name: WP Aussenteil
          - type: section
            label: Licht
          - type: custom:template-entity-row
            name: Licht gesamt
            entity: sensor.el_leistung_licht_gesamt
            state: "{{ '%.1f'%(states('sensor.el_leistung_licht_gesamt')) | float }} W"
          - type: custom:template-entity-row
            name: Licht Sicherung 3.2
            entity: sensor.el_leistung_licht_sicherung_3_2
            state: "{{ '%.1f'%(states('sensor.el_leistung_licht_sicherung_3_2')) | float }} W"
          - type: custom:template-entity-row
            name: Licht Sicherung 3.3
            entity: sensor.el_leistung_licht_sicherung_3_3
            state: "{{ '%.1f'%(states('sensor.el_leistung_licht_sicherung_3_3')) | float }} W"
          - type: custom:template-entity-row
            name: berechnete Lichter
            entity: sensor.el_leistung_berechnete_lichter
            state: "{{ '%.1f'%(states('sensor.el_leistung_berechnete_lichter')) | float }} W"
          - type: section
            label: Sonstiges
          - type: custom:template-entity-row
            name: Dauerverbraucher
            entity: sensor.el_leistung_dauerverbraucher
            state: "{{ '%.1f'%(states('sensor.el_leistung_dauerverbraucher')) | float }} W"
      - type: entities
        title: Verbrauch gestern
        show_header_toggle: false
        entities:
          - type: section
            label: Netz und PV
          - type: custom:template-entity-row
            name: Verbrauch
            entity: sensor.stromverbrauch_verbrauch_gesamt
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_verbrauch_gesamt', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_verbrauch_gesamt', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_verbrauch_gesamt', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_verbrauch_gesamt', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Netz
            entity: sensor.stromverbrauch_verbrauch_gesamt
            state: "noch nicht fertig"
          - type: custom:template-entity-row
            name: PV
            entity: sensor.stromverbrauch_verbrauch_gesamt
            state: "noch nicht fertig"
          - type: section
            label: EG
          - type: custom:template-entity-row
            name: Backofen
            entity: sensor.stromverbrauch_backofen
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_backofen', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_backofen', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_backofen', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_backofen', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Bildschirm Theke
            entity: sensor.stromverbrauch_bildschirm_theke
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_bildschirm_theke', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_bildschirm_theke', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_bildschirm_theke', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_bildschirm_theke', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Kochfeld
            entity: sensor.stromverbrauch_kochfeld
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_kochfeld', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_kochfeld', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_kochfeld', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_kochfeld', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Kühlschrank Küche
            entity: sensor.stromverbrauch_kuhlschrank_kuche
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_kuhlschrank_kuche', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_kuhlschrank_kuche', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_kuhlschrank_kuche', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_kuhlschrank_kuche', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: LG Anlage
            entity: sensor.stromverbrauch_lg_anlage
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_lg_anlage', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_lg_anlage', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_lg_anlage', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_lg_anlage', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Mixi
            entity: sensor.stromverbrauch_mixi
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_mixi', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_mixi', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_mixi', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_mixi', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Spülmaschine
            entity: sensor.stromverbrauch_spulmaschine
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_spulmaschine', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_spulmaschine', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_spulmaschine', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_spulmaschine', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: TV
            entity: sensor.stromverbrauch_tv
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_tv', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_tv', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_tv', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_tv', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: section
            label: Keller
          - type: custom:template-entity-row
            name: Luftentf. Waschküche
            entity: sensor.stromverbrauch_innr_sp_120_luftentfeuchter_waschkuche
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_waschkuche', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_waschkuche', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_waschkuche', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_waschkuche', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Luftentf. Partyraum
            entity: sensor.stromverbrauch_innr_sp_120_luftentfeuchter_partyraum
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_partyraum', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_partyraum', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_partyraum', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_innr_sp_120_luftentfeuchter_partyraum', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Heizung Partyraum vorne
            entity: sensor.stromverbrauch_tuya_sd_2
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_tuya_sd_2', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_tuya_sd_2', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_tuya_sd_2', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_tuya_sd_2', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Heizung Partyraum hinten
            entity: sensor.stromverbrauch_tuya_sd_1
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_tuya_sd_1', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_tuya_sd_1', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_tuya_sd_1', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_tuya_sd_1', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Lüftungsanlage
            entity: sensor.stromverbrauch_luftungsanlage
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_luftungsanlage', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_luftungsanlage', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_luftungsanlage', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_luftungsanlage', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Waschmaschine
            entity: sensor.stromverbrauch_waschmaschine
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_waschmaschine', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_waschmaschine', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_waschmaschine', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_waschmaschine', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Trockner
            entity: sensor.stromverbrauch_trockner
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_trockner', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_trockner', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_trockner', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_trockner', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Gefrierschrank
            entity: sensor.stromverbrauch_gefrierschrank
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_gefrierschrank', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_gefrierschrank', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_gefrierschrank', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_gefrierschrank', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Kühlschrank Keller
            entity: sensor.stromverbrauch_kuhlschrank_keller
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_kuhlschrank_keller', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_kuhlschrank_keller', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_kuhlschrank_keller', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_kuhlschrank_keller', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: section
            label: Heizung
          - type: custom:template-entity-row
            name: WP gesamt
            entity: sensor.stromverbrauch_wp_gesamt
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_wp_gesamt', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_gesamt', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_gesamt', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_wp_gesamt', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: WP Heizstab
            entity: sensor.stromverbrauch_wp_heizstab
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_wp_heizstab', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_heizstab', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_heizstab', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_wp_heizstab', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: WP Innenteil
            entity: sensor.stromverbrauch_wp_innenteil
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_wp_innenteil', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_innenteil', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_innenteil', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_wp_innenteil', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: WP Aussenteil
            entity: sensor.stromverbrauch_wp_aussenteil
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_wp_aussenteil', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_aussenteil', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_wp_aussenteil', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_wp_aussenteil', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: section
            label: Licht
          - type: custom:template-entity-row
            name: Licht gesamt
            entity: sensor.stromverbrauch_licht_gesamt
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_licht_gesamt', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_licht_gesamt', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_licht_gesamt', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_licht_gesamt', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Licht Sicherung 3.2
            entity: sensor.stromverbrauch_licht_sicherung_3_2
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_2', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_2', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_2', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_2', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: Licht Sicherung 3.3
            entity: sensor.stromverbrauch_licht_sicherung_3_3
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_3', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_3', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_3', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_licht_sicherung_3_3', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: custom:template-entity-row
            name: berechnete Lichter
            entity: sensor.stromverbrauch_berechnete_lichter
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_berechnete_lichter', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_berechnete_lichter', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_berechnete_lichter', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_berechnete_lichter', 'Einsparung Prozent durch PV gestern') | float) }} %"
          - type: section
            label: Sonstiges
          - type: custom:template-entity-row
            name: Dauerverbraucher
            entity: sensor.stromverbrauch_dauerverbraucher
            state: "{{ '%.1f'%(state_attr('sensor.stromverbrauch_dauerverbraucher', 'Verbrauch gestern') | float) }} kWh => {{ '%.2f'%(state_attr('sensor.stromverbrauch_dauerverbraucher', 'Kosten mit PV Abrechnung gestern')) }} €"
            secondary: "PV: -{{ '%.2f'%(state_attr('sensor.stromverbrauch_dauerverbraucher', 'Einsparung durch PV gestern') | float) }} € = -{{ '%.f'%(state_attr('sensor.stromverbrauch_dauerverbraucher', 'Einsparung Prozent durch PV gestern') | float) }} %"
      - type: entities
        title: mobil
        show_header_toggle: false
        entities:
          - type: section
            label: Sonoff POW R2 1 (offline)
          - entity: sensor.sonoff_pow_r2_1_wirkleistung
            name: POW R2 1 - Wirkleistung
          - entity: sensor.sonoff_pow_r2_1_scheinleistung
            name: POW R2 1 - Scheinleistung
          - entity: sensor.sonoff_pow_r2_1_leistungsfaktor
            name: POW R2 1 - Cos Phi
          - entity: sensor.sonoff_pow_r2_1_energie
            name: POW R2 1 - Energie
          - type: section
            label: Sonoff POW R2 2 (Kühlschrank Küche)
          - entity: sensor.sonoff_pow_r2_2_wirkleistung
            name: POW R2 2 - Wirkleistung
          - entity: sensor.sonoff_pow_r2_2_scheinleistung
            name: POW R2 2 - Scheinleistung
          - entity: sensor.sonoff_pow_r2_2_leistungsfaktor
            name: POW R2 2 - Cos Phi
          - entity: sensor.sonoff_pow_r2_2_energie
            name: POW R2 2 - Energie
          - type: section
            label: ESP SD 2 (Luftbef. WZ)
          - entity: sensor.el_leistung_esp_sd_2
            name: ESP SD 2 - Wirkleistung
          - entity: sensor.esp_sd_2_scheinleistung
            name: ESP SD 2 - Scheinleistung
          - entity: sensor.esp_sd_2_leistungsfaktor
            name: ESP SD 2 - Cos Phi
          - entity: sensor.esp_sd_2_stromverbrauch_heute
            name: ESP SD 2 - Energie heute
          - type: section
            label: ESP SD 3 (Bildschirm Theke)
          - entity: sensor.el_leistung_esp_sd_3
            name: ESP SD 3 - Wirkleistung
          - entity: sensor.esp_sd_3_scheinleistung
            name: ESP SD 3 - Scheinleistung
          - entity: sensor.esp_sd_3_leistungsfaktor
            name: ESP SD 3 - Cos Phi
          - entity: sensor.esp_sd_3_stromverbrauch_heute
            name: ESP SD 3 - Energie heute
          - type: section
            label: Shelly Plug S (Hebeanlage)
          - entity: sensor.el_leistung_shellyplug_s_169d16_power
            name: Shelly Plug S - Wirkleistung
          - entity: sensor.shellyplug_s_169d16_energy
            name: Shelly Plug S - Energie
