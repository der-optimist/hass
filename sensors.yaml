# --- Temperatur ---
# Wohnzimmer über openhab
  - platform: rest
    resource: http://openhabianpi:8080/rest/items/T_WZ_ist
    name: T_WZ_ist_OH
    device_class: temperature
    unit_of_measurement: "°C"
    value_template: '{{ value_json.state | round(1) }}'
# Außendaten über Internet
  - platform: template
    sensors:
      temp_owm:
        friendly_name: "Temp. draußen"
        unit_of_measurement: '°C'
        value_template: "{{ state_attr('weather.dark_sky', 'temperature') }}"
      humidity_owm:
        friendly_name: "Luftfeuchtigkeit"
        unit_of_measurement: '%'
        value_template: "{{ state_attr('weather.dark_sky', 'humidity') }}"
# KNX
  - platform: knx
    name: 'Temp. Küche PM'
    address: '6/0/65'
    type: temperature
  - platform: knx
    name: 'Temp. Esszimmer PM'
    address: '6/0/193'
    type: temperature
  - platform: knx
    name: 'Temp. Esszimmer Taster'
    address: '3/0/1'
    type: temperature
  - platform: knx
    name: 'Temp. Wohnzimmer PM'
    address: '6/1/65'
    type: temperature
  - platform: knx
    name: 'Temp. Schlafzimmer PM'
    address: '6/1/193'
    type: temperature
  - platform: knx
    name: 'Temp. Schlafzimmer Taster'
    address: '3/2/1'
    type: temperature
  - platform: knx
    name: 'Temp. Bad EG PM'
    address: '6/2/65'
    type: temperature
  - platform: knx
    name: 'Temp. Bad EG Taster'
    address: '3/2/129'
    type: temperature
  - platform: knx
    name: 'Temp. Flur EG PM'
    address: '6/2/193'
    type: temperature
  - platform: knx
    name: 'Temp. Windfang PM'
    address: '6/3/65'
    type: temperature
  - platform: knx
    name: 'Temp. WC PM'
    address: '6/3/193'
    type: temperature
  - platform: knx
    name: 'Temp. La PM'
    address: '7/0/65'
    type: temperature
  - platform: knx
    name: 'Temp. La Taster'
    address: '3/3/129'
    type: temperature
  - platform: knx
    name: 'Temp. Nähzimmer PM'
    address: '7/0/193'
    type: temperature
  - platform: knx
    name: 'Temp. Le PM'
    address: '7/1/65'
    type: temperature
  - platform: knx
    name: 'Temp. Le Taster'
    address: '3/4/1'
    type: temperature
  - platform: knx
    name: 'Temp. Gästezimmer PM'
    address: '7/1/193'
    type: temperature
  - platform: knx
    name: 'Temp. Gästezimmer Taster'
    address: '3/4/129'
    type: temperature
  - platform: knx
    name: 'Temp. Flur OG PM'
    address: '7/2/65'
    type: temperature
  - platform: knx
    name: 'Temp. Bad OG PM'
    address: '7/2/193'
    type: temperature
  - platform: knx
    name: 'Temp. Bad OG Taster'
    address: '3/5/1'
    type: temperature

# 1-wire

# --- Helligkeit ---
# KNX
  - platform: knx
    name: 'Helligkeit Küche PM'
    address: '6/0/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Esszimmer PM'
    address: '6/0/184'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Wohnzimmer PM'
    address: '6/1/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Schlafzimmer PM'
    address: '6/1/184'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Bad EG PM'
    address: '6/2/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Flur EG PM'
    address: '6/2/184'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Windfang PM'
    address: '6/3/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit WC PM'
    address: '6/3/184'
    type: illuminance
  - platform: knx
    name: 'Helligkeit La PM'
    address: '7/0/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Nähzimmer PM'
    address: '7/0/184'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Le PM'
    address: '7/1/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Gästezimmer PM'
    address: '7/1/184'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Flur OG PM'
    address: '7/2/56'
    type: illuminance
  - platform: knx
    name: 'Helligkeit Bad OG PM'
    address: '7/2/184'
    type: illuminance

# --- Elektrische Leistung ---
# Küche
  - platform: knx
    name: 'El. Leistung Backofen'
    address: '0/0/3'
    type: power
  - platform: knx
    name: 'El. Leistung Kühlschrank Küche'
    address: '0/0/23'
    type: power
  - platform: knx
    name: 'El. Leistung Spülmaschine'
    address: '0/0/43'
    type: power
  - platform: knx
    name: 'El. Leistung Mixi'
    address: '0/0/63'
    type: power
  - platform: knx
    name: 'El. Leistung TV'
    address: '0/0/103'
    type: power
  - platform: knx
    name: 'El. Leistung Waschmaschine'
    address: '0/1/143'
    type: power
  - platform: knx
    name: 'El. Leistung Trockner'
    address: '0/1/163'
    type: power
  - platform: knx
    name: 'El. Leistung Kühlschrank Keller'
    address: '0/1/203'
    type: power
  - platform: knx
    name: 'El. Leistung Gefrierschrank'
    address: '0/1/223'
    type: power
  - platform: knx
    name: 'El. Leistung Lüftungsanlage'
    address: '0/2/143'
    type: power

# --- Sonstiges ---
# Wetter
  - platform: yr
  
# History
  - platform: history_stats
    name: Jo at work
    entity_id: !secret device_jo
    state: !secret comp_work_jo_name
    type: time
    start: '{{ now().replace(hour=0).replace(minute=0).replace(second=0) }}'
    end: '{{ now() }}'

# Zeit und Datum
  - platform: time_date
    display_options:
      - 'time'
      - 'date'
# System 
  - platform: systemmonitor
    resources:
      - type: processor_use
      - type: disk_use_percent
        arg: "/"
      - type: since_last_boot
      - type: memory_use_percent
      - type: network_in
        arg: eth0
      - type: throughput_network_in
        arg: eth0
      - type: network_out
        arg: eth0
      - type: throughput_network_out
        arg: eth0
      - type: load_1m
      - type: load_15m
  - platform: command_line
    name: CPU Temperatur
    command: "cat /sys/class/thermal/thermal_zone0/temp"
    unit_of_measurement: "°C"
    value_template: '{{ value | multiply(0.001) | round(1) }}'
